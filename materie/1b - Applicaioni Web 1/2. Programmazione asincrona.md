# Asincronicità
- Javascript è un flusso di esecuzione **single-thread**.
- Le callback sono il metodo principale per scrivere codice asincrono in JS.
- Codice **non-bloccante**.

```js
const ciao = (nome) => {
	console.log("ciao ${nome}");
}

setTimeout(ciao, 2000, "Antonio"); // Esegue la funzione ciao dopo 2 secondi
// Dal terzo parametro in poi i valori vengono passati alla callback
```
#TODO vedi timers e sposta nella sezione appropriata

# Callbacks
- Funzione passata come parametro ad un'altra funzione, che viene **invocata** all'interno della funzione esterna per completare una *routine* o un'azione.

## Callback sincrone
- Utilizzate in **programmazione funzionale**.
```js
let numbers = [4, 2, 5, 1, 3];

numbers.sort( (a,b) => (a-b) );
```

### Programmazione funzionale
- Paradigma per cui lo sviluppatore costruisce e struttura il codice attorno alle funzioni.
- Stile più *dichiarativo* rispetto a *imperativo*.
- Non bisogna modificare gli oggetti coinvolti, ma ritornarne di nuovi.

```js
//Non funzionale
new_array = [];
for(const el in list)
	if (filter_function(el))
		new_array.push(el);


// Funzionale
new_array = array.filter( filter_function );
```

#### Iterazione su array
- `.forEach(f)` = f viene chiamata una volta per ogni elemento dell'iterabile.
	- La callback può avere 3 parametri:
		- `currentValue` = elemento processato nell'array.
		- `index (opzionale)` = indice dell'elemento processato.
		- `array (opzionale)` = array su cui è stato chiamato .forEach().
		- Questi ultimi 2 parametri sono presenti in tutte le funzioni.
	- **Non concatenabile**.
- `.every(f)` = controlla se tutti gli elementi passano il test fornito da f.
	- Stessi parametri del forEach.
	- Ritorna un booleano.
- `.some(f)` = controlla se almeno un valore passa il test fornito da f.
- `.map(f)` = passa ogni elemento dell'array su cui è invocata alla funzione f.
	- La callback dovrebbe ritornare un valore.
	- map ritorna sempre un nuovo array contenente i valori ritornati dalla callback.
- `.filter(f)` = crea un nuovo array con tutti gli elementi che passano il test fornito da f.
	- La callback è una funzione che ritorna vero o falso.
	- Se nessun elemento passa il test viene ritornato un array vuoto.
- `.reduce(f)` = combina gli elementi di un array, utilizzando f per produrre un singolo valore.
	- 2 parametri:
		- **reducer function** =  esegue la riduzione/combinazione.
			- Il primo parametro è il **valore accumulato** (può essere il primo elemento dell'array ma viene gestito in maniera automatica).
			- il secondo parametro è il valore successivo dell'array.
		- **valore iniziale (opzionale)** = da passare alla funzione. Se non specificato utilizza il primo elemento di un array come valore iniziale.

## Callback Asincrone